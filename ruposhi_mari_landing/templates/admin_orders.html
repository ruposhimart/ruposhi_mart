<!DOCTYPE html>
<html>
<head>
<title>Orders Dashboard</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f7f7f7;
}
h2 {
  text-align: center;
  margin: 15px 0;
}
table {
  width: 95%;
  margin: auto;
  background: #fff;
  border-collapse: collapse;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
th, td {
  padding: 10px;
  border: 1px solid #ddd;
  text-align: center;
  font-size: 14px;
}
th {
  background: #e91e63;
  color: #fff;
  font-size: 15px;
}
.btn {
  padding: 6px 8px;
  color: white;
  text-decoration: none;
  border-radius: 6px;
  font-size: 12px;
  margin: 2px;
  display: inline-block;
}
.pending { background: #ff9800; }
.confirm { background: #1b8f3a; }
.cancel { background: #d32f2f; }
.courier { background: #1976d2; }
.logout-btn {
  display: inline-block;
  margin: 10px auto;
  background: #000;
  color: #fff;
  padding: 8px 14px;
  border-radius: 6px;
  text-decoration: none;
  font-size: 14px;
}
</style>
</head>
<body>

<h2>ðŸ“¦ Order Management Panel</h2>

<div style="text-align:center;margin-bottom:10px;">
  <a class="logout-btn" href="{{ url_for('admin_logout') }}">Logout</a>
</div>

<table>
  <tr>
    <th>ID</th>
    <th>Product</th>
    <th>Qty</th>
    <th>COD (à§³)</th>
    <th>Name</th>
    <th>Phone</th>
    <th>Address</th>
    <th>Status</th>
    <th>Consignment ID</th>
    <th>Action</th>
    <th>Courier</th>
  </tr>

  {% for o in orders %}
  <tr>
    <td>{{ o[0] }}</td>
    <td>{{ o[1] }}</td>
    <td>{{ o[6] }}</td>
    <td>{{ o[2] }}</td>
    <td>{{ o[3] }}</td>
    <td><a href="tel:{{ o[4] }}">{{ o[4] }}</a></td>
    <td>{{ o[5] }}</td>
    <td>{{ o[8] }}</td>

    <!-- Consignment ID Column -->
    <td>
      {% if o[10] %}
        {{ o[10] }}
      {% else %}
        -
      {% endif %}
    </td>

    <!-- Status update buttons -->
    <td>
      <a class="btn pending" href="{{ url_for('update_order', order_id=o[0], status='Pending') }}">Pending</a>
      <a class="btn confirm" href="{{ url_for('update_order', order_id=o[0], status='Confirmed') }}">Confirm</a>
      <a class="btn cancel" href="{{ url_for('update_order', order_id=o[0], status='Cancelled') }}">Cancel</a>
    </td>

    <!-- Courier Send Button -->
    <td>
      <a class="btn courier" href="{{ url_for('send_to_courier', order_id=o[0]) }}">Send</a>
    </td>
  </tr>
  {% endfor %}

</table>

</body>
</html>
